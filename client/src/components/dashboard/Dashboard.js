import React, { useState, useLayoutEffect, useContext } from 'react'
import {
    BrowserRouter as Router,
    Switch,
    Route,
    useHistory,
    Link
} from 'react-router-dom'

import Loading from '../Loading'
import Popup, { PopupNotificationContext } from '../popup'
import DarkTheme from '../../helpers/DarkTheme'

import AuthContext from '../../auth/authContext'
import { logout } from '../../auth/auth'

import './Dashboard.css'

const SkillsList = React.lazy(() => import('./skill/SkillsList'))
const SkillController = React.lazy(() => import('./skill/SkillController'))
const SkillForm = React.lazy(() => import('./skill/SkillForm'))
const PlansList = React.lazy(() => import('./plan/PlansList'))
const PlanController = React.lazy(() => import('./plan/PlanController'))
const PlanForm = React.lazy(() => import('./plan/PlanForm'))
const BadgesList = React.lazy(() => import('./badge/BadgesList'))

export default function Dashboard() {
    const history = useHistory()

    // let [skills, setSkills] = useState([])
    const [isSmallViewport, setViewport] = useState(false)
    let [popup, setPopup] = useState({ show: false, text: '' })

    useLayoutEffect(() => {
        // function to find out if the screen is small(mobile size) and change state
         function getViewportBoolean() { window.innerWidth >= 600 ? setViewport(false) : setViewport(true) }
         // listen to windows resize event
         window.addEventListener('resize', getViewportBoolean)
         getViewportBoolean()
         return () => window.removeEventListener('resize', getViewportBoolean)
    }, [isSmallViewport])

    // set theme
    let body = document.body

    if (localStorage && localStorage.getItem('dark')) body.classList.add('dark')
    else body.classList.add('light')

    return (
        <div id='dashboard'>
            <PopupNotificationContext.Provider value={{ setPopup }}>
                {popup.show ? <Popup text={popup.text} showPopup={setPopup} /> : ''}

                { isSmallViewport ? <MobileNav /> : <DashboardNav /> }
                <div id='right-dashboard'>
                    { isSmallViewport ? '' : <DashboardUpperNav /> }
                    <main>
                        <Switch>
                            <Route exact path='/dashboard/skills'>
                                <SkillsList />
                            </Route>
                           <Route exact path='/dashboard/skills/add'>
                                <SkillForm method='POST' />
                           </Route>
                           <Route exact path='/dashboard/skills/:id'>
                                <SkillController />
                           </Route>
                           <Route exact path='/dashboard/skills/update/:id'>
                                <SkillForm method='PUT' />
                           </Route>

                           <Route exact path='/dashboard/plans'>
                               <PlansList />
                           </Route>
                           <Route exact path='/dashboard/plans/add'>
                               <PlanForm method='POST' />
                           </Route>
                           <Route exact path='/dashboard/plans/:id'>
                               <PlanController />
                           </Route>
                           <Route exact path='/dashboard/plans/update/:id'>
                               <PlanForm method='PUT' />
                           </Route>

                           <Route exact path='/dashboard/badges'>
                               <BadgesList />
                           </Route>

                            {/* default */}
                           <Route exact path='/dashboard'>
                                <DefaultContent />
                           </Route>
                        </Switch>
                    </main>
                </div>
            </PopupNotificationContext.Provider>
        </div>
    )
}

function DashboardNav() {
    return (
        <nav id='left-nav' aria-label='page navigation'>
            <Link to='/dashboard' id='logo'><h1>P</h1></Link>
            <Link to='/dashboard/skills' id='nav-skills' className='nav-link'>
                <svg version="1.1" x="0px" y="0px" viewBox="0 0 512 512"><g><g><path d="M306,83c-5.52,0-10,4.48-10,10s4.48,10,10,10c5.52,0,10-4.48,10-10S311.52,83,306,83z" /></g></g><g><g><path d="M206,83c-5.52,0-10,4.48-10,10s4.48,10,10,10s10-4.48,10-10S211.52,83,206,83z" /></g></g><g><g><path d="M473.123,298.882C481.706,286,486,269.927,486,256c0-20.996-9.327-40.503-25.332-53.731C464.21,193.805,466,185.002,466,176c0-27.855-16.256-53.803-40.425-65.92c3.667-30.414-16.151-58.292-45.52-65.403C368.56,18.104,342.975,0,316,0c-25.11,0-47.631,14.646-60,36.016C243.63,14.646,221.109,0,196,0c-26.977,0-52.562,18.104-64.055,44.678c-29.545,7.156-49.177,35.173-45.52,65.402C62.257,122.196,46,148.145,46,176c0,9.002,1.79,17.805,5.332,26.269C35.327,215.498,26,235.004,26,256c0,14,4.33,30.052,12.877,42.881C30.525,310.671,26,324.644,26,339c0,18.616,7.548,36.35,20.899,49.518C40.035,430.01,73.125,472,116,472c0.31,0,0.615-0.005,0.914-0.014C131.129,496.508,157.515,512,186,512c29.688,0,56.216-17.82,70-43.494C269.784,494.18,296.312,512,326,512c28.485,0,54.871-15.492,69.086-40.014c0.3,0.009,0.604,0.014,0.914,0.014c37.944,0,70-33.43,70-73c0-3.369-0.296-6.834-0.899-10.482C478.452,375.35,486,357.617,486,339C486,324.644,481.475,310.671,473.123,298.882z M246,151.381c-5.888-3.415-12.717-5.381-20-5.381c-5.523,0-10,4.477-10,10s4.477,10,10,10c11.028,0,20,8.972,20,20v190.169C231.329,359.528,209.877,349,186,349c-5.523,0-10,4.477-10,10s4.477,10,10,10c33.084,0,60,26.916,60,60c0,34.149-27.477,63-60,63c-23.152,0-44.465-13.691-54.299-34.88c-1.813-3.905-5.919-6.208-10.2-5.726c-0.707,0.081-1.41,0.175-2.113,0.271c-28.46,3.892-60.51-28.335-51.834-64.387c0.891-3.703-0.399-7.589-3.326-10.025C52.644,367.614,46,353.671,46,339c0-9.071,2.565-17.948,7.338-25.732C65.332,323.098,80.251,329,96,329c5.523,0,10-4.477,10-10s-4.477-10-10-10c-27.139,0-50-24.77-50-53c0-17.125,8.729-32.879,23.352-42.142c4.505-2.854,5.978-8.741,3.347-13.38C68.254,192.639,66,184.403,66,176c0-26.99,22.002-53,50-53c26.636,0,50,24.767,50,53c0,5.523,4.477,10,10,10s10-4.477,10-10c0-39.57-32.056-73-70-73c-3.348,0-6.678,0.271-9.975,0.784C106.02,103.521,106,103.265,106,103c0-22.317,18.117-40,40-40c10.682,0,20.73,4.161,28.292,11.715c3.907,3.903,10.238,3.899,14.142-0.007c3.903-3.908,3.9-10.239-0.007-14.142c-9.123-9.113-20.662-14.925-33.167-16.851C164.079,30.624,178.744,20,196,20c26.636,0,50,24.766,50,53V151.381z M416,329c15.75,0,30.669-5.903,42.663-15.729C463.435,321.054,466,329.93,466,339c0,14.671-6.644,28.614-18.227,38.253c-2.928,2.436-4.217,6.323-3.326,10.025c1.06,4.403,1.553,8.128,1.553,11.721c0,31.04-28.075,56.126-53.387,52.666c-0.703-0.096-1.407-0.191-2.114-0.271c-4.287-0.485-8.388,1.821-10.199,5.726C370.466,478.309,349.151,492,326,492c-32.523,0-60-28.851-60-63c0-33.084,26.916-60,60-60c5.522,0,10-4.477,10-10s-4.478-10-10-10c-23.877,0-45.329,10.528-60,27.169V186c0-11.028,8.972-20,20-20c5.522,0,10-4.477,10-10s-4.478-10-10-10c-7.283,0-14.112,1.966-20,5.381V73c0-28.234,23.364-53,50-53c17.256,0,31.92,10.624,40.739,23.714c-12.504,1.926-24.042,7.738-33.166,16.851c-3.908,3.903-3.912,10.234-0.009,14.142c3.903,3.908,10.236,3.911,14.142,0.008C345.271,67.161,355.318,63,366,63c21.993,0,40,17.787,40,40c0,0.264-0.02,0.521-0.025,0.784C402.678,103.271,399.348,103,396,103c-37.944,0-70,33.43-70,73c0,5.523,4.478,10,10,10c5.522,0,10-4.477,10-10c0-28.233,23.364-53,50-53c27.982,0,50,25.997,50,53c0,8.403-2.254,16.639-6.699,24.478c-2.63,4.639-1.157,10.526,3.348,13.38C457.271,223.121,466,238.875,466,256c0,28.331-22.941,53-50,53c-5.522,0-10,4.477-10,10S410.478,329,416,329z" /></g></g><g><g><path d="M223.453,214.053c-3.682-4.116-10.003-4.468-14.12-0.786C177.265,241.952,126,219.027,126,176c0-5.523-4.477-10-10-10s-10,4.477-10,10c0,34.715,25.407,63.595,58.6,69.057C160.75,257.185,149.386,266,136,266c-5.523,0-10,4.477-10,10s4.477,10,10,10c24.357,0,44.69-17.51,49.102-40.602c13.907-1.819,26.996-7.77,37.565-17.225C226.783,224.491,227.135,218.169,223.453,214.053z" /></g></g><g><g><path d="M116,389c-5.523,0-10,4.477-10,10s4.477,10,10,10c26.636,0,50,24.767,50,53c0,5.523,4.477,10,10,10s10-4.477,10-10C186,422.43,153.944,389,116,389z" /></g></g><g><g><path d="M196,309c-33.886,0-62.98,18.585-78.3,45.608c-2.723,4.805-1.036,10.908,3.768,13.631c4.805,2.723,10.907,1.037,13.631-3.768C147.034,343.415,169.68,329,196,329c5.523,0,10-4.477,10-10S201.523,309,196,309z" /></g></g><g><g><path d="M376,266c-13.386,0-24.75-8.815-28.6-20.943C380.593,239.595,406,210.715,406,176c0-5.523-4.478-10-10-10c-5.522,0-10,4.477-10,10c0,27.57-22.43,50-50,50c-12.316,0-24.153-4.522-33.333-12.733c-4.115-3.682-10.438-3.331-14.12,0.786c-3.683,4.116-3.33,10.438,0.786,14.12c10.569,9.455,23.659,15.406,37.565,17.225C331.31,268.49,351.643,286,376,286c5.522,0,10-4.477,10-10S381.522,266,376,266z" /></g></g><g><g><path d="M396,389c-37.944,0-70,33.43-70,73c0,5.523,4.478,10,10,10c5.522,0,10-4.477,10-10c0-28.233,23.364-53,50-53c5.522,0,10-4.477,10-10S401.522,389,396,389z" /></g></g><g><g><path d="M394.3,354.609C379.018,327.65,349.964,309,316,309c-5.522,0-10,4.477-10,10s4.478,10,10,10c26.301,0,48.964,14.411,60.899,35.471c2.727,4.811,8.834,6.489,13.631,3.769C395.335,365.517,397.022,359.414,394.3,354.609z" /></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                <h3>Skills</h3>
            </Link>
            <Link to='/dashboard/plans' id='nav-plans' className='nav-link'>
                <svg version="1.1" x="0px" y="0px" viewBox="0 0 512.001 512.001"><g><g><path d="M400.003,152H256.001c-5.523,0-10,4.477-10,10s4.477,10,10,10h144.002c5.523,0,10-4.477,10-10S405.526,152,400.003,152z" /></g></g><g><g><path d="M365.011,202.931c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07s1.07,5.21,2.93,7.07s4.44,2.93,7.07,2.93s5.21-1.07,7.07-2.93c1.86-1.86,2.93-4.44,2.93-7.07S366.871,204.791,365.011,202.931z" /></g></g><g><g><path d="M263.061,45.931c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07s1.07,5.21,2.93,7.07c1.86,1.86,4.44,2.93,7.07,2.93s5.21-1.07,7.07-2.93c1.86-1.86,2.93-4.44,2.93-7.07S264.921,47.791,263.061,45.931z" /></g></g><g><g><path d="M315.878,200h-59.877c-5.523,0-10,4.477-10,10s4.477,10,10,10h59.877c5.523,0,10-4.477,10-10S321.401,200,315.878,200z" /></g></g><g><g><path d="M400.003,260H256.001c-5.523,0-10,4.477-10,10s4.477,10,10,10h144.002c5.523,0,10-4.477,10-10S405.526,260,400.003,260z" /></g></g><g><g><path d="M365.011,310.931c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07s1.07,5.21,2.93,7.07s4.44,2.93,7.07,2.93s5.21-1.07,7.07-2.93c1.86-1.86,2.93-4.44,2.93-7.07S366.871,312.791,365.011,310.931z" /></g></g><g><g><path d="M315.878,308h-59.877c-5.523,0-10,4.477-10,10s4.477,10,10,10h59.877c5.523,0,10-4.477,10-10S321.401,308,315.878,308z" /></g></g><g><g><path d="M400.003,368H256.001c-5.523,0-10,4.477-10,10s4.477,10,10,10h144.002c5.523,0,10-4.477,10-10S405.526,368,400.003,368z" /></g></g><g><g><path d="M365.011,418.931c-1.86-1.86-4.44-2.93-7.07-2.93s-5.21,1.07-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07s1.07,5.21,2.93,7.07s4.44,2.93,7.07,2.93s5.21-1.07,7.07-2.93c1.86-1.86,2.93-4.44,2.93-7.07S366.871,420.791,365.011,418.931z" /></g></g><g><g><path d="M315.878,416h-59.877c-5.523,0-10,4.477-10,10s4.477,10,10,10h59.877c5.523,0,10-4.477,10-10S321.401,416,315.878,416z" /></g></g><g><g><path d="M419.243,39.001h-76.379C331.823,28.48,316.898,22,300.479,22h-8.76C285.022,8.742,271.263,0,256,0s-29.021,8.742-35.719,22H211.5c-16.419,0-31.343,6.48-42.384,17.001H92.759c-26.885,0-48.758,21.873-48.758,48.758v375.484c0,26.885,21.873,48.758,48.758,48.758h326.483c26.885,0,48.758-21.873,48.758-48.758V87.759C468.001,60.874,446.128,39.001,419.243,39.001z M211.501,42h15.586c4.498,0,8.442-3.003,9.639-7.338C239.111,26.029,247.037,20,256.001,20c8.964,0,16.89,6.029,19.274,14.662c1.197,4.335,5.142,7.338,9.639,7.338h15.565c21.705,0,39.571,16.75,41.354,38.001H170.147C171.93,58.75,189.797,42,211.501,42z M448.001,463.244c0,15.857-12.901,28.758-28.758,28.758H92.759c-15.857,0-28.758-12.901-28.758-28.758V87.759c0-15.857,12.901-28.758,28.758-28.758h62.347c-3.276,7.512-5.105,15.794-5.105,24.5v6.5c0,5.523,4.477,10,10,10H351.98c5.523,0,10-4.477,10-10v-6.5c0-8.705-1.829-16.988-5.105-24.5h62.368c15.857,0,28.758,12.901,28.758,28.758V463.244z" /></g></g><g><g><path d="M192.41,149.596c-3.905-3.905-10.237-3.905-14.142-0.001l-42.762,42.763l-13.173-13.174c-3.905-3.904-10.237-3.904-14.143,0c-3.905,3.905-3.905,10.237,0,14.143l20.245,20.245c1.953,1.953,4.512,2.929,7.071,2.929c2.559,0,5.119-0.976,7.071-2.929l49.833-49.833C196.315,159.834,196.315,153.502,192.41,149.596z" /></g></g><g><g><path d="M168.001,368h-48c-5.523,0-10,4.477-10,10v48c0,5.523,4.477,10,10,10h48c5.523,0,10-4.477,10-10v-48C178.001,372.477,173.524,368,168.001,368z M158.001,416h-28v-28h28V416z" /></g></g><g><g><path d="M168.001,260h-48c-5.523,0-10,4.477-10,10v48c0,5.523,4.477,10,10,10h48c5.523,0,10-4.477,10-10v-48C178.001,264.477,173.524,260,168.001,260z M158.001,308h-28v-28h28V308z" /></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                <h3>Plans</h3>
            </Link>
            <Link to='/dashboard/badges' id='nav-badges' className='nav-link'>
                <svg height="512" viewBox="0 0 512 512"><g><g><path d="m452.42 210.226c10.146-15.543 8.272-35.766-4.557-49.18-5.654-5.912-8.017-14.218-6.323-22.22 3.847-18.159-5.206-36.34-22.015-44.213-7.408-3.47-12.612-10.362-13.923-18.436-2.973-18.322-17.983-32.005-36.5-33.275-8.161-.56-15.504-5.106-19.643-12.162-9.392-16.009-28.326-23.346-46.056-17.842-7.812 2.426-16.3.838-22.709-4.245-14.541-11.536-34.85-11.536-49.39 0-6.408 5.085-14.898 6.671-22.709 4.245-17.726-5.505-36.665 1.832-46.056 17.842-4.139 7.056-11.481 11.602-19.642 12.162-18.518 1.27-33.527 14.954-36.501 33.275-1.31 8.074-6.515 14.966-13.922 18.436-16.808 7.874-25.861 26.055-22.016 44.213 1.695 8.002-.669 16.309-6.322 22.221-12.828 13.414-14.703 33.638-4.557 49.181 4.471 6.849 5.268 15.449 2.131 23.004-7.117 17.142-1.558 36.677 13.516 47.505 6.644 4.773 10.493 12.504 10.297 20.681-.443 18.555 11.797 34.763 29.765 39.415 5.304 1.373 9.912 4.442 13.214 8.628l-41.324 99.763c-5.791 13.981 7.316 28.378 21.769 23.941l45.242-13.884c1.322-.403 2.748.188 3.395 1.407l22.173 41.808c7.093 13.374 26.538 12.43 32.322-1.535l43.071-103.981c.565-.019 1.13-.019 1.695 0l43.071 103.981c5.795 13.987 25.239 14.89 32.323 1.536l22.173-41.809c.646-1.22 2.073-1.811 3.395-1.406l45.241 13.884c14.461 4.439 27.558-9.968 21.77-23.941l-41.325-99.763c3.302-4.186 7.91-7.255 13.214-8.628 17.968-4.651 30.207-20.859 29.765-39.415-.196-8.177 3.654-15.908 10.298-20.68 15.075-10.829 20.632-30.364 13.515-47.506-3.132-7.558-2.335-16.158 2.135-23.007zm-254.196 284.993c-.941 2.272-4.067 2.411-5.214.248l-22.173-41.808c-4.011-7.563-12.862-11.227-21.045-8.717l-45.242 13.884c-2.347.718-4.452-1.594-3.512-3.863l36.662-88.513c8.272 11.331 22.1 17.646 36.657 15.946 8.124-.947 16.177 2.171 21.542 8.345 7.783 8.96 18.75 13.716 29.939 13.715 3.539 0 7.099-.495 10.589-1.464zm209.227-36.394-45.241-13.884c-8.183-2.51-17.036 1.155-21.046 8.717l-22.173 41.808c-1.145 2.161-4.275 2.021-5.215-.248l-38.195-92.209c14.519 4.03 30.278-.48 40.521-12.27 5.364-6.175 13.414-9.295 21.542-8.345 14.571 1.703 28.39-4.614 36.657-15.945l36.664 88.51c.942 2.278-1.175 4.581-3.514 3.866zm32.41-256.797c-7.182 11.003-8.462 24.817-3.424 36.953 4.43 10.671.971 22.831-8.414 29.573-10.672 7.666-16.856 20.085-16.542 33.22.276 11.552-7.344 21.642-18.53 24.537-10.463 2.709-19.249 9.519-24.518 18.728-.014.027-.029.053-.043.079-1.117 1.963-2.085 4.029-2.864 6.194-3.915 10.871-14.658 17.533-26.141 16.187-13.049-1.526-25.988 3.487-34.605 13.406-7.577 8.722-20.006 11.045-30.224 5.65-3.475-1.836-7.155-3.11-10.913-3.847-.031-.007-.062-.014-.093-.02-4.992-.967-10.122-.966-15.114.004-.018.004-.035.008-.053.011-3.767.737-7.454 2.013-10.937 3.852-10.218 5.396-22.646 3.072-30.223-5.65-7.598-8.745-18.551-13.675-29.982-13.675-1.534 0-3.079.089-4.624.27-11.472 1.343-22.227-5.315-26.142-16.187-.779-2.163-1.745-4.226-2.861-6.188-.017-.032-.034-.062-.051-.094-5.27-9.205-14.053-16.012-24.513-18.72-11.186-2.896-18.805-12.985-18.529-24.536.314-13.136-5.87-25.554-16.542-33.221-9.384-6.741-12.845-18.902-8.414-29.574 5.038-12.136 3.758-25.95-3.424-36.953-6.315-9.675-5.149-22.265 2.838-30.615 9.081-9.496 12.878-22.84 10.156-35.694-2.394-11.304 3.242-22.622 13.705-27.524 11.899-5.574 20.259-16.645 22.365-29.615 1.851-11.406 11.195-19.924 22.722-20.714 13.109-.899 24.905-8.202 31.553-19.537 5.847-9.966 17.639-14.532 28.67-11.106 12.549 3.897 26.186 1.348 36.48-6.819 9.05-7.182 21.694-7.182 30.747 0 10.293 8.166 23.928 10.717 36.479 6.819 11.035-3.427 22.825 1.141 28.67 11.106 6.648 11.334 18.444 18.637 31.553 19.537 11.527.791 20.871 9.309 22.722 20.714 2.106 12.97 10.467 24.041 22.365 29.616 10.464 4.901 16.099 16.219 13.705 27.523-2.722 12.854 1.074 26.198 10.156 35.694 7.983 8.35 9.149 20.94 2.834 30.616z" /><path d="m113.951 192.129c4.107.505 7.854-2.417 8.359-6.527 8.282-67.315 65.757-118.076 133.69-118.076 67.966 0 125.443 50.788 133.698 118.139.466 3.801 3.7 6.588 7.434 6.588.305 0 .612-.019.922-.057 4.111-.504 7.035-4.245 6.532-8.356-9.176-74.861-73.054-131.313-148.586-131.313-75.497 0-139.371 56.422-148.577 131.243-.505 4.111 2.417 7.853 6.528 8.359z" /><path d="m398.055 212.26c-4.099-.5-7.852 2.421-8.356 6.532-8.252 67.354-65.73 118.145-133.699 118.145-67.938 0-125.413-50.766-133.692-118.086-.505-4.11-4.245-7.031-8.359-6.528-4.11.505-7.034 4.248-6.528 8.359 9.202 74.827 73.076 131.253 148.578 131.253 75.536 0 139.414-56.455 148.586-131.32.505-4.11-2.419-7.851-6.53-8.355z" /><path d="m361.899 171.281c-1.906-5.866-7.12-9.8-13.285-10.021l-58.801-2.109-20.177-55.272c-2.115-5.794-7.467-9.538-13.635-9.538s-11.52 3.744-13.635 9.538l-20.177 55.272-58.801 2.109c-6.164.221-11.379 4.155-13.285 10.021s0 12.114 4.857 15.916l46.331 36.269-16.164 56.576c-1.695 5.931.435 12.106 5.426 15.732 4.985 3.622 11.516 3.746 16.637.298l48.81-32.857 48.811 32.855c5.115 3.444 11.646 3.328 16.637-.298 4.991-3.625 7.12-9.8 5.425-15.732l-16.164-56.575 46.331-36.269c4.858-3.802 6.765-10.049 4.859-15.915zm-60.69 40.574c-4.675 3.66-6.642 9.713-5.01 15.419l15.89 55.615-47.982-32.297c-2.463-1.658-5.285-2.487-8.107-2.487s-5.644.829-8.106 2.486l-47.983 32.297 15.89-55.614c1.631-5.708-.335-11.759-5.009-15.419l-45.546-35.654 57.805-2.074c5.932-.213 11.08-3.954 13.115-9.529l19.835-54.334 19.835 54.334c2.036 5.575 7.183 9.316 13.115 9.528l57.803 2.074z" /></g></g></svg>
                <h3>Badges</h3>
            </Link>
            { localStorage ? <DarkTheme isMobile={false}/> : '' }
        </nav>
    )
}

function DashboardUpperNav() {
    let authContext = useContext(AuthContext)
    let history = useHistory()

    return (
        <nav id='upper-nav' aria-label='upper page navigation'>
            <div>
                <Link to={`/user/${ authContext.userId }`}>{ authContext.username }</Link>
                <Link to='/help'>Help</Link>
                <Link to='/about'>About</Link>
                { authContext.userId ?
                    <Link to='#' onClick={() => logout(history, authContext)}>Log out</Link>
                : '' }
            </div>
        </nav>
    )
}

function DefaultContent() {
    return (
        <div id='default-content'>
            <h2 className='main-title'>Dashboard</h2>
            <p>Choose skills or plans from the left navigation bar to create or manage your skills or plans. Here you can also look at your badges.</p>
        </div>
    )
}

function MobileNav() {
    const [isHamburgerClicked, setHamburgerClickValue] = useState(false)

    const authContext = useContext(AuthContext)
    const history = useHistory()

    return (
        <nav id='mobile-nav' className={ isHamburgerClicked ? 'mobile-nav-with-clicked-hamburger' : '' }>
            <div id='logo'>
                <Link
                    to='/dashboard'
                    onClick={() => setHamburgerClickValue(false)}>
                    <h1>P</h1>
                </Link>
            </div>
            <div
                id='hamburger'
                onClick={() => setHamburgerClickValue(!isHamburgerClicked)}>
                <div></div>
                <div></div>
                <div></div>
            </div>
            { isHamburgerClicked ?
                <div id='nav-links'>
                    <Link
                        to='/dashboard/skills'
                        onClick={() => setHamburgerClickValue(false)}>
                        Skills
                    </Link>
                    <Link 
                        to='/dashboard/plans' 
                        onClick={() => setHamburgerClickValue(false)}>
                        Plans
                    </Link>
                    <Link 
                        to='/dashboard/badges'
                        onClick={() => setHamburgerClickValue(false)}>
                        Badges
                    </Link>
                    { localStorage ? <DarkTheme isMobile={true} onClick={() => setHamburgerClickValue(false)} /> : '' }
                    <Link 
                        to={`/user/${authContext.userId}`}
                        onClick={() => setHamburgerClickValue(false)}>
                        Profile
                    </Link>
                    <Link 
                        to='/help'
                        onClick={() => setHamburgerClickValue(false)}>
                        Help
                    </Link>
                    <Link 
                        to='/about'
                        onClick={() => setHamburgerClickValue(false)}>
                        About
                    </Link>
                    {authContext.userId ?
                        <Link to='#' onClick={() => {
                            setHamburgerClickValue(false)
                            logout(history, authContext)
                        }}>Log out</Link>
                        : ''}
                </div>
            : '' }
        </nav>
    )
}